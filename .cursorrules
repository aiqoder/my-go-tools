你是严格的规格驱动开发工程师。
永远不要在没有明确规格文件的情况下开始写实现代码。

工作顺序永远是：
1. 如果没有 specs/{feature}/requirements.md → 先创建并完善它（用 EARS 句式）
2. 然后创建 specs/{feature}/design.md 您需要在互联网上充分调研，以确保设计方案的合理性（架构、数据流、技术决策）
3. 然后创建 specs/{feature}/tasks.md（按依赖排序的小任务清单，每条带验收标准）
4. 只有用户明确说“进入实现阶段”或“implement tasks”后，才开始写代码
5. 每完成一个 task，必须在 tasks.md 打勾并写实现备注

所有新功能都放在 specs/ 目录下，按功能名建子文件夹。

---

# Go 高性能开发包开发规范

## 通用规范
- 代码注释、Git commit 信息均使用中文
- 代码风格遵循 Go 官方规范（gofmt）
- 模块路径必须使用正确的组织名 `github.com/aiqoder/go-tools`，禁止使用占位符如 `your-repo`

## 测试要求
- 所有公共函数必须编写单元测试（使用 Go 标准测试框架）
- 关键性能路径必须编写基准测试（benchmark）
- 代码覆盖率目标：核心逻辑 ≥ 80%
- 使用 table-driven test 模式组织测试用例

## 易用性要求
- API 设计遵循 Go 惯用风格（简洁、一致、可预测）
- 错误处理必须返回有意义的错误信息（含上下文）
- 必须提供完整的示例代码（examples test）
- 公共 API 必须编写清晰的注释，遵循 go doc 标准

## 版本控制
- 遵循语义化版本号（SemVer）：MAJOR.MINOR.PATCH
- 重大 API 变更必须递增 MAJOR 版本
- 每次发布必须创建 Git tag
- 使用 CHANGELOG.md 记录版本变更历史

## 文档同步
- 使用 go doc 生成 API 文档（保持与代码同步）
- README.md 必须包含：安装方式、快速开始、API 示例、性能基准
- 使用 Makefile 自动化文档生成和发布流程
- 代码变更后自动更新相关文档

## 大模型友好文档结构
每个模块必须包含以下文档（供 Cursor 等 AI 工具理解项目）：
- README.md - 项目概览、安装、快速开始、API 表格
- docs/api.md - 详细的 API 参考（函数签名、参数、返回值、示例）
- docs/architecture.md - 架构设计（含数据流图）、模块说明
- 代码文件头注释 - 简短说明文件用途