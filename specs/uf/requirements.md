# UF 用户反馈服务 - 需求规格

## 1. 需求概述

创建一个 Go 语言包 `uf`，用于对接用户反馈检测服务 API。该服务基于 `https://uf.yigechengzi.com/` 域名，提供统一的接口调用封装。

## 2. 背景与目标

### 背景
- 项目需要集成用户反馈检测功能
- 已有 `ACTIVATION_CHECK_API.md` 文档作为参考规范
- 目标域名下可能存在多个 API，需要设计可扩展的架构

### 目标
- 提供简洁易用的 Go API
- 支持该域名下多个 API 的扩展
- 遵循 Go 官方代码规范
- 包含完整的单元测试和示例代码

## 3. 功能需求

### 3.1 客户端核心功能
| 功能 | 描述 | 优先级 |
|------|------|--------|
| 基础 HTTP 客户端 | 支持自定义超时、重试等配置 | 必须 |
| 服务实例管理 | 创建和管理 API 服务客户端 | 必须 |
| 统一错误处理 | 解析并返回有意义的错误信息 | 必须 |

### 3.2 API 扩展能力
| 功能 | 描述 | 优先级 |
|------|------|--------|
| 模块化 API 设计 | 按功能模块分离不同 API 的实现 | 必须 |
| 统一的请求/响应处理 | 公共的请求构建和响应解析逻辑 | 应该 |
| 配置管理 | 集中管理 BaseURL 等配置 | 应该 |

### 3.3 规范化要求
- 代码注释使用中文
- 遵循 gofmt 代码风格
- 错误信息包含上下文
- 提供完整的 go doc 注释

## 4. 非功能需求

### 4.1 性能要求
- HTTP 请求支持可配置超时（默认 30 秒）
- 支持自定义 HTTP 客户端

### 4.2 可维护性
- 清晰的模块划分
- 统一的错误处理模式
- 完整的注释和文档

### 4.3 扩展性
- 支持将来新增 API 端点
- 配置与实现分离
- 便于单元测试

## 5. 验收标准

### 5.1 功能验收
- [ ] 成功创建 `uf` 包，路径为 `github.com/aiqoder/go-tools/uf`
- [ ] BaseURL 固定为 `https://uf.yigechengzi.com/`
- [ ] 提供可配置的 HTTP 客户端选项
- [ ] 实现统一的错误处理

### 5.2 代码质量验收
- [ ] 代码通过 gofmt 格式化
- [ ] 公共 API 包含完整的 go doc 注释
- [ ] 包含单元测试（覆盖率 ≥ 60%）
- [ ] 包含示例代码

### 5.3 架构验收
- [ ] 模块化设计，便于扩展新 API
- [ ] 参考 `ACTIVATION_CHECK_API.md` 的风格
- [ ] 配置集中管理

## 6. 参考资料

- `ACTIVATION_CHECK_API.md` - 激活检测接口规范（作为代码风格和设计参考）
- 项目现有包结构（如 `oauth2`）作为实现参考
